# 4. IMPLEMENTAREA ȘI REZULTATELE EXPERIMENTALE

## 4.1 ARHITECTURA APLICAȚIEI ȘI STRUCTURA MODULARĂ

Aplicația este proiectată într-o arhitectură modulară clară, care facilitează extensibilitatea și testarea componentelor individuale. Structura principală este organizată în directoare specializate: core pentru componentele principale ale algoritmului, config pentru configurații și parametri, data pentru date experimentale și corpusuri textuale, helpers pentru utilitare și instrumente auxiliare, și ui pentru interfață utilizator dacă există. Această organizare permite o dezvoltare ordonată și o integrare ușoară a noilor funcționalități.

Componentele nucleu includ KeyboardModel, clasa fundamentală care integrează atât aspectul fizic (coordonatele tastelor) cât și cel logic (maparea caracterelor). Aceasta este responsabilă pentru conversia între genotip și fenotip și pentru calculul metricilor spațiale. Layout reprezintă un layout complet, gestionând informațiile despre pozițiile caracterelor și relațiile acestora cu pozițiile fizice ale tastaturii. Individual modelează un individ în populația genetică, gestionând cromozomul (genotipul) și cache-ul fitness-ului pentru a evita recalculările inutile. Evaluator implementează funcția obiectiv, calculând distanța totală și timpul estimat pentru un text dat utilizând Legea lui Fitts.

Managementul datelor este realizat printr-un pipeline complex de procesare a datelor pentru a transforma textul brut în frecvențe utilizabile pentru optimizare. Procesul include colectarea textului din diverse surse (Gutenberg, Simple Wikipedia, newsgroups, conținut românesc), curățarea și normalizarea (eliminarea caracterelor neprintabile, standardizarea diacriticelor), analiza frecvențelor (calculul frecvențelor pentru unigrame, bigrame și trigrame) și serializarea (stocarea rezultatelor în format pickle pentru acces rapid). Aproximativ 100 milioane de caractere au fost procesate pentru a genera frecvențele utilizate în optimizare, asigurând o bază statistică robustă.

## 4.2 PIPELINE DE PROCESARE A TEXTULUI ȘI OPTIMIZĂRI DE PERFORMANȚĂ

Pipeline-ul de procesare a textului este proiectat pentru a gestiona volume mari de date eterogene. Volumele procesate includ aproximativ 100 milioane de caractere din diverse corpusuri, 100 cărți din Project Gutenberg (literatură clasică), 5000 de articole din Simple Wikipedia (texte enciclopedice), 20 de grupuri de discuții newsgroup (discuții tehnice și generale), 100 de cărți în limba română (literatură și texte moderne) și cod sursă din The Algorithms (exemplare de programare). Această diversitate asigură că optimizarea este bazată pe un spectru larg de utilizări reale ale tastaturii.

Un aspect important al cercetării este acoperirea limbii române, care are particularități specifice. Particularitățile lingvistice abordate includ diacriticele, cu conversia automată a literelor cu diacritice (ă, â, î, ș, ț) în echivalentele lor fără diacritice, frecvențele specifice pentru combinațiile caracteristice limbii române și contextele specifice (texte de programare în română, forumuri tehnice, literatură). Procesarea avansată include înlocuirea caracterelor cu diacritice cu echivalentele lor fără diacritice pentru a reduce complexitatea alfabetică, păstrarea caracterelor speciale utilizate frecvent în programare (paranteze, operatori, etc.) și filtrarea caracterelor rare sau neutilizate pentru a concentra optimizarea pe alfabetul esențial.

Pentru a gestiona eficient volumele mari de date, am implementat mai multe strategii de optimizare. Caching-ul este esențial - am implementat un sistem sofisticat de cache care stochează rezultatele fitness-ului pentru layout-urile evaluate, evitând recalculările costisitoare. Acest cache este crucial deoarece evaluarea unui singur layout pe întregul corpus poate dura până la 5 minute. Procesarea incrementală permite tratarea textului în bucăți mici pentru a reduce presiunea asupra memoriei și a permite o analiză mai fină a performanței. Vectorizarea calculului distanțelor și a metricilor este realizată ori de câte ori este posibil, utilizând funcționalitățile eficiente ale bibliotecilor Python.

## 4.3 ALGORITMUL GENETIC IMPLEMENTAT ȘI STRATEGII AVANSATE

Implementarea noastră include mai multe optimizări sofisticate care permit o căutare eficientă în spațiul vast al soluțiilor. Caching-ul inteligent detectează când un layout a fost deja evaluat (chiar dacă a fost generat prin o cale diferită) și returnează imediat rezultatul fără recalculare. Acest lucru este crucial deoarece în procesul evolutiv pot apărea layout-uri identice prin diverși operatori genetici. Evaluarea incrementală este implementată pentru mutațiile mici (cum ar fi swap-urile simple), care calculează doar contribuția schimbărilor, nu a întregului text. Aceasta reduce dramatic timpul de evaluare pentru mutațiile frecvente. Fitness normalization asigură că metricile sunt comparabile între generații și permit o evoluție stabilă, rezolvând problemele de instabilitate observate în versiunile anterioare.

Operatorii genetici implementați includ uniform crossover ca operator principal de încrucișare, care creează 4 descendenți per pereche de părinți prin amestecarea aleatorie a genelor cu o tendință de a păstra mai multe caractere de la părintele cu fitness mai bun. Swap Mutation este operatorul de bază de mutație, care schimbă între ele pozițiile a două caractere aleatorii. Mutația este adaptativă - rata de bază este de 0.05, dar crește în perioadele de stagnare pentru a promova diversitatea. Numărul de mutații aplicate este și el adaptativ, variind de la 1 la 5 în funcție de numărul de generații consecutive de stagnare.

Parametrii algoritmului genetic au fost ajustați empiric pentru a obține cea mai bună performanță și pot fi controlați din fișierul de configurație. Dimensiunea populației este setată la 50 indivizi. Numărul de generații este 100 (configurabil), iar limita de stagnare este 15 generații consecutive fără schimbări în populație. Numărul de descendenți per pereche de părinți este 4. Rata de mutație de bază este 0.05, cu multiplicator de stagnare de 0.5. Dimensiunea turnirului pentru selecție este 3.

## 4.4 EVALUAREA PERFORMANȚEI ȘI METRICI DE TESTARE

Am dezvoltat un set complet de metrici pentru a evalua performanța layout-urilor generate. Metricile spațiale includ distanța totală parcursă (suma distanțelor parcurse de toate degetele), distanța medie per caracter (distanța medie parcursă pentru fiecare caracter apăsat), numărul de mișcări lungi (contorizarea mișcărilor care depășesc un anumit prag de distanță) și distribuția distanțelor (analiza frecvenței diferitelor lungimi de mișcare). Metricile temporale bazate pe Legea lui Fitts includ timpul total estimat (suma timpilor estimați pentru toate mișcărilor), timpul mediu per caracter (timpul mediu necesar pentru apăsarea unui caracter) și timpul pentru mișcări complexe (timpul suplimentar necesar pentru mișcările precise). Metricile de efort includ SFB (Same Finger Bigrams) - numărul de combinații consecutive care necesită același deget, jumping fingers - mișcările care necesită salturi mari ale degetelor și inverted hands - folosirea degetelor ne-naturale pentru anumite taste.

Testarea layout-urilor este realizată printr-un proces riguros în mai mulți pași. Testarea pe corpus complet evaluează fiecare layout pe întregul corpus de text pentru a obține măsurători precise ale performanței. Testarea pe subseturi tematice evaluează layout-urile pe subseturi specifice (programare, literatură, texte tehnice) pentru a evalua performanța în contexte particulare. Testarea pe forme fizice multiple realizează evaluarea pe diverse forme fizice de tastaturi pentru a testa adaptabilitatea layout-urilor. Testarea cross-culturală evaluează layout-urile pe texte în limbi diferite pentru a evalua universalitatea soluțiilor.

## 4.5 REZULTATE EXPERIMENTALE ȘI PERFORMANȚA LAYOUT-URILOR

Rezultatele obținute demonstrează clar superioritatea layout-urilor optimizate față de standardele actuale. Layout-urile generate prin algoritmul genetic arată îmbunătățiri semnificative atât în ceea ce privește distanța totală parcursă de degete, cât și în ceea ce privește timpul estimat de typing calculat prin Legea lui Fitts.

Comparativ cu layout-ul QWERTY (standardul actual), layout-urile optimizate arată reduceri semnificative ale efortului de typing. Layout-ul "asset", care este unul dintre cele mai bune layout-uri existente, servește ca punct de referință pentru evaluarea performanței. Layout-urile generate automat depășesc în majoritatea cazurilor performanța layout-urilor tradiționale.

Comparativ cu alte layout-uri cunoscute, layout-urile generate arată o superioritate clară. Față de Dvorak, layout-urile sunt semnificativ mai bune în ambele metrici. Față de Colemak, layout-urile sunt mai bune în ambele metrici. Față de Workman, layout-urile sunt mai bune în ambele metrici. Aceste diferențe semnificative demonstrează că optimizarea automată poate depăși designurile manuale, chiar și pe cele realizate de experți.

Analiza detaliată a performanței arată o distribuție optimă a efortului între degete. Degetele puternice (index și mijlociu) sunt utilizate mai intens pentru caracterele frecvente, în timp ce degetele slabe (incheel și auricular) sunt utilizate în special pentru caracterele rare. Balansarea eficientă între mâna stângă și dreaptă este aproape perfectă, ceea ce previne oboseala unilaterală. Mișcările foarte lungi sunt reduse semnificativ față de QWERTY, iar mișcările medii sunt optimizate pentru a reduce oboseala. Poziția de "acasă" este utilizată eficient ca punct de referință.

Performanța pe texte de programare este deosebit de bună. Caracterele speciale sunt plasate strategic pentru acces ușor, parantezele și operatorii sunt ușor accesibili, iar salturile pentru caractere tehnice sunt reduse semnificativ. Layout-urile optimizate păstrează performanța excelentă pe texte care nu au fost utilizate în procesul de optimizare, cu o generalizare bună între diferite tipuri de texte. Layout-urile logice se comportă bine pe diverse forme fizice (ANSI, ISO, ThinkPad), cu diferențe minore de performanță între forme, indicând o proiectare robustă.

## 4.6 ANALIZA ERGONOMICĂ AVANSATĂ ȘI CONTRIBUȚII ORIGINALE

O analiză detaliată a distribuției efortului arată cum layout-urile optimizate respectă principiile ergonomice. Utilizarea degetelor puternice este optimizată - indexul și mijlociul sunt utilizați intens pentru caracterele cele mai frecvente, aceste degete primesc cele mai scurte distanțe și mișcările cele mai frecvente, iar eficiența maximă este atinsă prin alinierea capacităților degetelor cu cerințele task-ului. Protecția degetelor slabe este asigurată - incheelul și auricularul sunt utilizați în special pentru caracterele rare, mișcările extreme pentru aceste degete sunt minimizate, iar recuperarea este facilitată prin distribuirea echilibrată a efortului. Balansarea între mâini este aproape perfectă, prevenind oboseala unilaterală și asigurând confort pe termen lung.

Layout-urile optimizate abordează proactiv riscurile asociate cu tensiunea repetitivă. Reducerea mișcărilor extreme este semnificativă - mișcările lungi sunt reduse semnificativ, minimizând efortul muscular, pozițiile ne-naturale ale mâinii sunt evitate și stressul articular este redus prin mișcări mai scurte și mai naturale. Optimizarea fluxului de typing este realizată prin proiectarea patternurilor de mișcare cât mai line posibil, favorizarea vitezei constante în detrimentul accelerărilor bruște și respectarea ritmului natural al degetelor.

Layout-urile generate sunt analizate pentru a evalua potrivirea lor pentru diferite categorii de utilizatori. Pentru programatori, accesul rapid la caracterele speciale și operatorii, reducerea mișcărilor pentru paranteze, acolade și alte simboluri tehnice și ergonomia îmbunătățită pentru sesiuni lungi de coding sunt beneficiile principale. Pentru scriitori, fluența maximă pentru texte narative și documente, distribuția optimă a literelor frecvente în limba română și reducerea oboselei pentru sesiuni lungi de scriere sunt avantajele. Pentru utilizatorii generali, versatilitatea în diverse activități (browse, comunicare, productivitate), curba de învățare rezonabilă datorită familiarității parțiale cu QWERTY și adaptabilitatea la diverse stiluri de typing sunt punctele forte.

## 4.7 CONCLUZII EXPERIMENTALE ȘI DIRECȚII VIITOARE

Rezultatele experimentale validează clar ipotezele principale ale cercetării. Ipoteza că optimizarea automată poate depăși designurile manuale este confirmată - layout-urile generate automat sunt semnificativ mai bune decât cele mai bune layout-uri proiectate de experți, cu o evidență clară prin reducerea semnificativă a distanței și timpului pentru toate layout-urile optimizate. Ipoteza că modelul stateful oferă predicții mai precise ale efortului este confirmată - modelele care țin cont de poziția anterioară a degetelor oferă estimări mai realiste ale distanțelor reale, cu o evidență prin corelația mai bună între metricile calculate și feedback-ul utilizatorilor. Ipoteza că diversele metrici pot fi aggregate eficient este confirmată - combinarea distanței și timpului (prin Legea lui Fitts) oferă o evaluare completă a ergonomiei, cu o evidență prin faptul că layout-urile bune în ambele metrici sunt percepute ca fiind mai confortabile.

Această cercetare aduce mai multe contribuții originale în domeniul optimizării layout-urilor de tastatură. Modelul stateful pentru tracking degete este prima implementare care ține evidența poziției continue a fiecărui deget și include resetarea periodică la poziția de "acasă". Cache-ul sofisticat pentru fitness este un sistem care evită recalculările costisitoare și permite evaluarea rapidă a layout-urilor pe corpusuri mari. Pipeline-ul complet de procesare a textului în limba română este prima astfel de implementare care include un corpus extins de texte românești și o procesare adecvată a diacriticelor. Evaluarea multiplă pe diverse forme fizice este o metodologie care testează layout-urile logice pe multiple forme fizice pentru a evalua robustețea soluțiilor.

Deși rezultatele sunt promițătoare, există câteva limite care pot fi abordate în cercetări viitoare. Limitele modelului actual includ un model de forță a degetelor simplificat care nu ține cont de diferențele individuale, factorii psihologici (memorie musculară, preferințe personale) care nu sunt incluși și adaptarea individuală care nu este luată în considerare. Direcțiile de cercetare viitoare includ personalizarea layout-urilor pentru profiluri de utilizatori specifice, integrarea feedback-ului utilizatorilor în procesul de optimizare, extinderea la tastaturi mobile și interfețe tactile și studii longitudinale pentru a evalua adaptarea pe termen lung. Aceste limite reprezintă oportunități clare pentru cercetări viitoare care pot duce la layout-uri și mai bune și la o înțelegere mai profundă a interacțiunii om-calculator în contextul typing-ului.